<!DOCTYPE html>
<html>
    <head>
        <title>Lets Meet</title>
        <meta charset="utf-8" />
        <script src="letsMeetClasses.js"></script>
        <script src="letsMeet.js"></script>
        <script src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
        <link type="text/css" rel="stylesheet" href="letsMeet.css">
    </head>
    <body>
        <header>
            <h1>Lets Meet</h1>
            <button id="bStart" onClick="frozen=false;">Start Simulation</button>
            <button id="bStop" onClick="frozen=true; animate();">Stop Simulation</button>
            <button id="bStartOver" onClick="newGame();">Reset</button>
        </header>
        <div id="settings" class="settings">
            <h1>Options<i class="bCollapse"></i></h1>
            <div class="content">
                <div class="setting-group">
                    <h2>Playground</h2>
                    <div class="setting">
                        <label>Height</label>
                        <input name="" type="text" id="playgroundHeight" onChange="updateSimSettings();" value="600" size="5" maxlength="3"/>
                    </div>
                    <div class="setting">
                        <label>Width</label>
                        <input type="text" id="playgroundWidth" value="600" size ="5" maxlength="4"/>
                    </div>
                    <div class="setting">
                        <input type="checkbox"onChange="updateSimSettings();" name="cbShowGridlines" id="cbShowGridlines">
                        <label>Show gridlines</label>
                    </div>
                </div>

                <div class="setting-group">
                    <h2>Simulation</h2>
                    <div class="setting">
                        <label>Number of teams<label>
                        <input type="text" id="numTeams"onChange="updateSimSettings();" value="5" size ="3" maxlength="2" />
                    </div>
                    <div class="setting">
                        <label>Number of bots per team</label>
                        <input type="text" id="numBots" value="5" onChange="updateSimSettings();" size ="3" maxlength="2" />
                    </div>
                    <div class="setting">
                        <label>Extra travel time</label>
                        <input name="tExtraTravelTime" type="text" id="tExtraTravelTime"onChange="updateSimSettings();" value="10" size="3" maxlength="2">
                    </div>
                    <div class="setting">
                        <label>Meet wait time</label>
                        <input name="tMeetWaitTime"type="text" id="tMeetWaitTime" onChange="updateSimSettings();" value="10" size="3" maxlength="2">
                    </div>
                    <div class="setting">
                        <label>Meeting length</label>
                        <input name="tMeetingLength" type="text" id="tMeetingLength"onChange="updateSimSettings();" value="30" size="3" maxlength="2">
                    </div>
                    <div class="setting">
                        <input type="checkbox" name="cbMeetNoShowBots" id="cbMeetNoShowBots">
                        <label>Meet with no show bots</label>
                    </div>
                    <div class="setting">
                        <input type="checkbox" name="cbMeetTeamMembers" id="cbMeetTeamMembers">
                        <label>Meet with team members</label>
                    </div>
                </div>

                <div class="setting-group">
                    <h2>Bots</h2>
                    <div class="setting">
                        <label>Size</label>
                        <input name="tBotSize" type="text" id="tBotSize" onChange="updateSimSettings();" value="9" size="3" maxlength="2">
                        (prefers odd numbers)
                    </div>
                </div>

                <div class="setting-group">
                    <h2>Display</h2>
                    <div class="setting">
                        <input type="checkbox"onChange="updateSimSettings();" checked="checked" name="cbShowBotStatus" id="cbShowBotStatus">
                        <label>Show bot statuses</label>
                    </div>
                    <div class="setting">
                        <input type="checkbox"onChange="updateSimSettings();" name="cbShowBotStatusColors" id="cbShowBotStatusColors">
                        <label>Show bot status colors</label>
                    </div>
                    <div class="setting">
                        <input type="checkbox" name="cbShowBotNumbers" onChange="updateSimSettings();"id="cbShowBotNumbers">
                        <label>Show bot numbers</label>
                    </div>
                    <div class="setting">
                        <input type="checkbox" name="cbShowMeetingConnectors" onChange="updateSimSettings();"id="cbShowMeetingConnectors">
                        <label>Show Meeting Connectors</label>
                    </div>
                    <div class="setting">
                        <input type="checkbox" name="cbShowBotNames" checked="true" onChange="updateSimSettings();"id="cbShowBotNames">
                        <label>Show bot names</label>
                    </div>
                </div>
            </div>
        </div>
        <div class="canvas-container">
            <canvas id="canvas"></canvas>
        </div>
        <footer>
            LetsMeet Simulator by CodyCodeman
        </footer>
        <script type="text/javascript">
            window.requestAnimFrame = (function(callback){
                return window.requestAnimationFrame ||
                window.webkitRequestAnimationFrame ||
                window.mozRequestAnimationFrame ||
                window.oRequestAnimationFrame ||
                window.msRequestAnimationFrame ||
                function(callback){
                    window.setTimeout(callback, 1000 / 60);
                };
            })();

            var playground = new Playground(1,1,1,1,4.5);

            var frozen = false;

            function animate(){
                if(!frozen){
                    //update bot positions for next frame
                    playground.advanceFrame();
                    //draw next frame
                    requestAnimFrame(function(){
                        animate();
                    });
                }
            }
            $(document).ready(function(){
                $('.settings > h1 > i').click(function(){
                    $(this).closest('.settings').toggleClass('closed');
                })
            })
        </script>
    </body>
</html>



